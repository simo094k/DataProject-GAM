

There are 125 measurements of CVP each second -> 1/125s = 0.008/s. 
This means that there are 0.008 seconds between each measurement. 
To get ms we simply multiply by 1.000.



```{r initializing patient, eval=FALSE, include=FALSE}
pt3_closed <- create_patient_closed(filepath)
qrs_ms_closed <- full_dataload$closed_chest$QRSmarker_ms

pt3_open <- create_patient_open(filepath)
qrs_ms_open <- full_dataload$open_chest$QRSmarker_ms

# The following code is to give an index to each measurement for which position it has in its heartbeat 
# cycle. Also removes rows containing NAs giving only rows where we know start and end of cycle
pt3_closed <- na.omit(gen_annotation_index(pt3_closed, qrs_ms_closed, 'time_ms', 'qrs')) 
pt3_closed <- na.omit(gen_annotation_index(pt3_closed, seq(0, nrow(pt3_closed)*8, 5000), 'time_ms', 'insp'))

pt3_open <- na.omit(gen_annotation_index(pt3_open, qrs_ms_open, 'time_ms', 'qrs')) 
pt3_open <- na.omit(gen_annotation_index(pt3_open, seq(0, nrow(pt3_open)*8, 5000), 'time_ms', 'insp'))
```


Inspect data:

```{r inspecting cvp over time, eval=FALSE, include=FALSE}
dygraph(data = pt3_closed[,c("time_s","closed_chest_cvp")])
dygraph(data = pt3_open[,c("time_s","open_chest_cvp")])
```


We now slice after finding appropriate time slot in the above inspection. 
Below the periode between 130s and 190s has been selected.

```{r slicing data, eval=FALSE, include=FALSE}
pt3_closed_sliced <- pt3_closed[pt3_closed$time_s > 130 & pt3_closed$time_s < 190,]
pt3_open_sliced <- pt3_open[pt3_open$time_s > 130 & pt3_open$time_s < 190,]
```